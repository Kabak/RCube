#pragma once
#include "stdafx.h"

#ifndef _TIMERCLASS_H_
#define _TIMERCLASS_H_

#include <time.h>
#include <stdio.h>

class TimerClass
{
public:
	TimerClass();
	TimerClass(const TimerClass&);
	~TimerClass();

	bool Initialize();
	void Frame();

// Получить сколько времени прошло в секундас между моментами времени
	void ComputeTimePassed(float& result, LARGE_INTEGER startTime, LARGE_INTEGER stopTime );

	void GetFps(int&);

// Функции для тайминга функций и определения быстродействия участков кода
	void StartTimer();
	void StopTimer(float&);

// Индивидуальный таймер
	void StartTimer(LARGE_INTEGER&Counter);
	void StopTimer(char* Result);
	void StopTimer(char* Result, LARGE_INTEGER& startcounter, LARGE_INTEGER& stopcounter);
// Индивидуальный таймер

// Random generator
   float GenerateRandFloatRegion (float& Max, float& Min);
	 int GenerateRandIntRegion (int& Max, int& Min);

	char *String;

private:
	void GenString(char* Result, float& TimeAmount);

// Фиксированная системная переменная - частота процессора тактов в секунду.
	LARGE_INTEGER m_frequency;
	LARGE_INTEGER currentTime;
// начало отсчёта фрейма	
	LARGE_INTEGER startTime;

// Количество процессорных тактов в секунду
	__int64 m_ticksPerSec;

// Количесто процессорных тактов в одном кадре
	__int64 frameTime;

// Random generator Values
	__int64 BigBangTime;	// Engine start time - constant
	__int64 Time1;			// Start Time
	__int64 Time2;			// FrameTime
	__int64 Time3;			// Temp value
		int RandomInt;		// Random Value
		int LastInt;
	  float RandomFloat;	// Random Value
	  float LastFloat;
	   bool Odd;			//
	   bool Divede3;
	   bool Divede5;
	    int Algo;

// техническое значение кадров в секунду
	    int frameCount;

// Количество кадров в секунду
	    int m_fps;

// Времени за один такт CPU в наносекундах
	float TickTime_Sec; // Времени за один такт в секундах
	float TickTime_ns;	// Времени за один такт в наносекундах
	float TickTime_mks;	// Времени за один такт в микросекундах

// Переменные для таймера скорости выполнения
	LARGE_INTEGER StartCounter;
	LARGE_INTEGER StopCounter;
	LARGE_INTEGER ResultCounter;
	LARGE_INTEGER TempCounter;
			float TimeAmount;

};

#endif
